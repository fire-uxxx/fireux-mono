# üõ°Ô∏è Phantom File Prevention Guide

## What Causes Phantom Files

1. **Domain Separation Violations**
   - Domain code in `fireux-core` (Chef/Supplier code should only be in `fireux-misebox`)
   - Cross-package component/composable name conflicts
   - Improper auto-import configurations

2. **Auto-Import Conflicts**
   - Multiple packages using same prefixes
   - Overlapping component registration paths
   - Missing unique naming conventions

3. **Build System Issues**
   - TypeScript compilation errors creating placeholders
   - Module resolution conflicts
   - Incorrect package dependencies

## Prevention Rules

### ‚úÖ ALWAYS Follow These Rules:

1. **Unique Prefixes Per Package**

   ```typescript
   fireux-core: 'Fire'
   fireux-cleanbox: 'Cleanbox' (NOT 'Clean')
   fireux-misebox: 'Misebox'
   fireux-places: 'Place'
   fireux-jobs: 'Job' (NOT 'Fire')
   ```

2. **Domain Separation**

   ```
   ‚ùå packages/fireux-core/src/runtime/components/organisms/profiles/
   ‚úÖ packages/fireux-misebox/src/runtime/components/organisms/profiles/Chef/
   ‚úÖ packages/fireux-jobs/src/runtime/components/organisms/profiles/Professional/
   ```

3. **No Cross-Package Domain Code**
   - Chef/Supplier code ONLY in `fireux-misebox`
   - Job/Professional code ONLY in `fireux-jobs`
   - Generic code ONLY in `fireux-core`

### üîç Detection Commands

Run these regularly to detect phantom files:

```bash
# Find all empty files (potential phantoms)
find . -size 0 -type f | grep -v node_modules | grep -v ".nuxt" | grep -v ".git"

# Check for domain violations in core
find packages/fireux-core -name "*Chef*" -o -name "*Supplier*" -o -name "*Professional*" -o -name "*Employer*"

# Check for component prefix conflicts
grep -r "prefix.*Fire" packages/*/src/config/components-config.ts
```

### üßπ Cleanup Commands

If phantom files reappear:

```bash
# Remove all phantom files
find . -size 0 -type f | grep -v node_modules | grep -v ".nuxt" | grep -v ".git" | xargs rm -f

# Commit cleanup
git add .
git commit -m "Remove phantom files generated by auto-import conflicts"
```

## Long-term Solution

1. **Implement package linting** to detect domain violations
2. **Standardize auto-import configurations** across all packages
3. **Add pre-commit hooks** to prevent phantom file commits
4. **Regular phantom file audits** as part of CI/CD

## Emergency Recovery

If phantom files corrupt the workspace:

1. **Hard reset**: `git reset --hard HEAD`
2. **Clean build**: `pnpm clean:packages && pnpm build:packages`
3. **Restart dev servers**: Kill all processes and restart
4. **Clear VS Code workspace**: Reload window or restart VS Code
