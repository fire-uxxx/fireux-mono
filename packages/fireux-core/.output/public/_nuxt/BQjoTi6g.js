import{p as u,q as i,s as g,v as d,m as f}from"./BVTICooV.js";function p(){const{setDocument:s}=u();return{createBlogPost:async(o,t)=>s("blogs",t,o).then(()=>t)}}function m(){const{deleteDocument:s}=u();async function n(o){if(!o)throw new Error("No blog post slug provided.");try{return await s("blogs",o),console.log("✅ Blog Post Deleted Successfully"),!0}catch(t){throw console.error("❌ Error Deleting Blog Post:",t),t}}return{deleteBlogPost:n}}function P(){const{updateDocument:s}=i();async function n(o,t){if(!o)throw new Error("No BlogPost ID provided.");if(!t||typeof t!="object")throw new Error("Invalid update payload. Must be an object.");try{return await s("blogs",o,t),console.log(`✅ BlogPost Updated Successfully: ${JSON.stringify(t)}`),!0}catch(e){throw console.error("❌ Error Updating BlogPost:",e),e}}return{updateBlogPost:n}}function h(){function s(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}function n(e){const r=(e==null?void 0:e.replace(/<[^>]*>/g,"").trim())||"";return`${Math.ceil((r.split(/\s+/).length||0)/200)} min`}function o(){var r,a,l,c;const{appUser:e}=g();return{display_name:((r=e.value)==null?void 0:r.display_name)||"",handle:((a=e.value)==null?void 0:a.handle)||"",avatar:((l=e.value)==null?void 0:l.avatar)||"",id:((c=e.value)==null?void 0:c.id)||""}}function t(){return{featuredImage:"/img/logo-type-dark.svg",socialImage:"/img/logo.png"}}return{generateSlug:s,computeReadingTime:n,getAuthor:o,getDefaultImages:t}}async function w(){const{firestoreFetchCollection:s,firestoreFetchDoc:n}=d(),o=await s("blogs"),t=f(()=>{const r=o.value;return r==null?void 0:r.slice().sort((a,l)=>new Date(l.created_at).getTime()-new Date(a.created_at).getTime())});async function e(r){return await n("blogs",r)}return{blogPostsCollection:t,fetchBlogPost:e,...p(),...m(),...P(),...h()}}export{w as u};
