var we=Object.defineProperty;var xe=(t,n,s)=>n in t?we(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s;var X=(t,n,s)=>xe(t,typeof n!="symbol"?n+"":n,s);import{u as Ie,a as Se}from"./D7KGscGp.js";import{u as ze,_ as ge,f as qe,a as Ee,b as ue,c as Ae}from"./C58LZhNe.js";import{_ as Fe,l as Ve}from"./BCBb_8iq.js";import{t as Z,P as Be}from"./dVouc0k2.js";import{_ as de}from"./CjmJjjqI.js";import{a7 as ce,a8 as Ue,a9 as ke,aa as me,m as D,z as _,R as ae,j,o as b,w as y,a as p,x as Q,c as O,O as V,ab as fe,g,ac as M,_ as ve,E as ye,b as m,d as te,t as ee,ad as $e,ae as Ce,af as Pe,Y as je,X as pe,a1 as Oe,ag as J,ah as H,ai as he,aj as Ne,r as Me,ak as De,i as Ge}from"./BVTICooV.js";import{_ as be}from"./DGRTGWqa.js";import{a as Re}from"./BD8ciVsq.js";import{_ as Te}from"./BYLkUbAy.js";import"./tFsLFLRg.js";import"./wSbNHcIL.js";import"./E1WfNmNJ.js";import"./CKOQKYhC.js";const Ye={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed"},variants:{buttonGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Je=["id","type","value","name","placeholder","disabled","required","autocomplete"],_e=Object.assign({inheritAttrs:!1},{__name:"Input",props:ce({as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},type:{type:null,required:!1,default:"text"},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autocomplete:{type:null,required:!1,default:"off"},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:String,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:String,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},{modelValue:{type:null},modelModifiers:{}}),emits:ce(["update:modelValue","blur","change"],["update:modelValue"]),setup(t,{expose:n,emit:s}){const e=t,r=s,c=Ue(),[f,d]=ke(t,"modelValue"),o=me(),{emitFormBlur:w,emitFormInput:x,emitFormChange:u,size:S,color:q,id:E,name:G,highlight:R,disabled:L,emitFormFocus:T,ariaAttrs:B}=ze(e,{}),{orientation:A,size:W}=Ie(e),{isLeading:N,isTrailing:a,leadingIconName:l,trailingIconName:h}=Se(e),I=D(()=>W.value||S.value),v=D(()=>{var i;return Z({extend:Z(Ye),...((i=o.ui)==null?void 0:i.input)||{}})({type:e.type,color:q.value,variant:e.variant,size:I==null?void 0:I.value,loading:e.loading,highlight:R.value,leading:N.value||!!e.avatar||!!c.leading,trailing:a.value||!!c.trailing,buttonGroup:A.value})}),z=_(null);function F(i){d.trim&&(i=(i==null?void 0:i.trim())??null),(d.number||e.type==="number")&&(i=Ve(i)),d.nullify&&(i||(i=null)),f.value=i,x()}function U(i){d.lazy||F(i.target.value)}function k(i){const Y=i.target.value;d.lazy&&F(Y),d.trim&&(i.target.value=Y.trim()),u(),r("change",i)}function $(i){w(),r("blur",i)}function C(){var i;e.autofocus&&((i=z.value)==null||i.focus())}return ae(()=>{setTimeout(()=>{C()},e.autofocusDelay)}),n({inputRef:z}),(i,Y)=>{var se;return b(),j(g(Be),{as:t.as,class:M(v.value.root({class:[(se=e.ui)==null?void 0:se.root,e.class]}))},{default:y(()=>{var ne,re,ie;return[p("input",fe({id:g(E),ref_key:"inputRef",ref:z,type:t.type,value:g(f),name:g(G),placeholder:t.placeholder,class:v.value.base({class:(ne=e.ui)==null?void 0:ne.base}),disabled:g(L),required:t.required,autocomplete:t.autocomplete},{...i.$attrs,...g(B)},{onInput:U,onBlur:$,onChange:k,onFocus:Y[0]||(Y[0]=(...P)=>g(T)&&g(T)(...P))}),null,16,Je),Q(i.$slots,"default"),g(N)||t.avatar||c.leading?(b(),O("span",{key:0,class:M(v.value.leading({class:(re=e.ui)==null?void 0:re.leading}))},[Q(i.$slots,"leading",{},()=>{var P,le,oe;return[g(N)&&g(l)?(b(),j(de,{key:0,name:g(l),class:M(v.value.leadingIcon({class:(P=e.ui)==null?void 0:P.leadingIcon}))},null,8,["name","class"])):t.avatar?(b(),j(Fe,fe({key:1,size:((le=e.ui)==null?void 0:le.leadingAvatarSize)||v.value.leadingAvatarSize()},t.avatar,{class:v.value.leadingAvatar({class:(oe=e.ui)==null?void 0:oe.leadingAvatar})}),null,16,["size","class"])):V("",!0)]})],2)):V("",!0),g(a)||c.trailing?(b(),O("span",{key:1,class:M(v.value.trailing({class:(ie=e.ui)==null?void 0:ie.trailing}))},[Q(i.$slots,"trailing",{},()=>{var P;return[g(h)?(b(),j(de,{key:0,name:g(h),class:M(v.value.trailingIcon({class:(P=e.ui)==null?void 0:P.trailingIcon}))},null,8,["name","class"])):V("",!0)]})],2)):V("",!0)]}),_:3},8,["as","class"])}}}),Ke={class:"account-email"},Le={key:0,class:"success"},We={key:1,class:"error"},Xe={__name:"AccountEmail",setup(t){const n=_(""),s=_(""),e=_(""),r=ye();async function c(){s.value="",e.value="";try{if(!r.value)throw new Error("No user signed in");await $e(r.value,n.value),s.value="✅ Email updated successfully."}catch(d){e.value=`❌ ${d.message}`}}async function f(){s.value="",e.value="";try{if(!r.value)throw new Error("No user signed in");await Ce(r.value),s.value="✅ Verification email sent."}catch(d){e.value=`❌ ${d.message}`}}return(d,o)=>{var u;const w=_e,x=ge;return b(),O("div",Ke,[o[3]||(o[3]=p("h3",null,"Update Email",-1)),m(w,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=S=>n.value=S),placeholder:"Enter new email",type:"email",class:"input"},null,8,["modelValue"]),m(x,{onClick:c,disabled:!n.value,color:"primary",class:"button"},{default:y(()=>o[1]||(o[1]=[te(" Update Email ")])),_:1,__:[1]},8,["disabled"]),m(x,{onClick:f,disabled:!((u=g(r))!=null&&u.email),color:"secondary",class:"button"},{default:y(()=>o[2]||(o[2]=[te(" Send Verification Email ")])),_:1,__:[2]},8,["disabled"]),s.value?(b(),O("p",Le,ee(s.value),1)):V("",!0),e.value?(b(),O("p",We,ee(e.value),1)):V("",!0)])}}},He=ve(Xe,[["__scopeId","data-v-aaf2d911"]]);function Qe(t){return t.validate&&t.__isYupSchema__}function Ze(t){return t.inner!==void 0}function ea(t){return"schema"in t&&typeof t.coercer=="function"&&typeof t.validator=="function"&&typeof t.refiner=="function"}function aa(t){return t.validateAsync!==void 0&&t.id!==void 0}function ta(t){return t.isJoi===!0}function sa(t){return"~standard"in t}async function na(t,n){var e;const s=await n["~standard"].validate(t);return s.issues?{errors:((e=s.issues)==null?void 0:e.map(r=>{var c;return{name:((c=r.path)==null?void 0:c.map(f=>typeof f=="object"?f.key:f).join("."))||"",message:r.message}}))||[],result:null}:{errors:null,result:s.value}}async function ra(t,n){try{return{errors:null,result:await n.validate(t,{abortEarly:!1})}}catch(s){if(Ze(s))return{errors:s.inner.map(r=>({name:r.path??"",message:r.message})),result:null};throw s}}async function ia(t,n){const[s,e]=n.validate(t);return s?{errors:s.failures().map(c=>({message:c.message,name:c.path.join(".")})),result:null}:{errors:null,result:e}}async function la(t,n){try{return{errors:null,result:await n.validateAsync(t,{abortEarly:!1})}}catch(s){if(ta(s))return{errors:s.details.map(r=>({name:r.path.join("."),message:r.message})),result:null};throw s}}function oa(t,n){if(sa(n))return na(t,n);if(aa(n))return la(t,n);if(Qe(n))return ra(t,n);if(ea(n))return ia(t,n);throw new Error("Form validation failed: Unsupported form schema")}class K extends Error{constructor(s,e,r){super("Form validation exception");X(this,"formId");X(this,"errors");X(this,"children");this.formId=s,this.errors=e,this.children=r,Object.setPrototypeOf(this,K.prototype)}}const ua={base:""},da={__name:"Form",props:{id:{type:[String,Number],required:!1},schema:{type:null,required:!1},state:{type:Object,required:!0},validate:{type:Function,required:!1},validateOn:{type:Array,required:!1,default(){return["input","blur","change"]}},disabled:{type:Boolean,required:!1},validateOnInputDelay:{type:Number,required:!1,default:300},transform:{type:Boolean,required:!1,default:!0},attach:{type:Boolean,required:!1,default:!0},loadingAuto:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},onSubmit:{type:Function,required:!1}},emits:["submit","error"],setup(t,{expose:n,emit:s}){const e=t,r=s,c=me(),f=D(()=>{var a;return Z({extend:Z(ua),...((a=c.ui)==null?void 0:a.form)||{}})}),d=e.id??Pe(),o=Re(`form-${d}`),w=e.attach&&je(ue,void 0);J(ue,o);const x=_(new Map);ae(async()=>{o.on(async a=>{var l;a.type==="attach"?x.value.set(a.formId,{validate:a.validate}):a.type==="detach"?x.value.delete(a.formId):(l=e.validateOn)!=null&&l.includes(a.type)&&!A.value&&(a.type!=="input"?await B({name:a.name,silent:!0,nested:!1}):(a.eager||G.has(a.name))&&await B({name:a.name,silent:!0,nested:!1})),a.type==="blur"&&G.add(a.name),(a.type==="change"||a.type==="input"||a.type==="blur"||a.type==="focus")&&E.add(a.name),(a.type==="change"||a.type==="input")&&q.add(a.name)})}),pe(()=>{o.reset()}),ae(async()=>{w&&(await Oe(),w.emit({type:"attach",validate:B,formId:d}))}),pe(()=>{w&&w.emit({type:"detach",formId:d})});const u=_([]);J("form-errors",u);const S=_({});J(Ae,S);const q=new Set,E=new Set,G=new Set;function R(a){return a.map(l=>{var h;return{...l,id:l!=null&&l.name?(h=S.value[l.name])==null?void 0:h.id:void 0}})}const L=_(null);async function T(){let a=e.validate?await e.validate(e.state)??[]:[];if(e.schema){const{errors:l,result:h}=await oa(e.state,e.schema);l?a=a.concat(l):L.value=h}return R(a)}async function B(a={silent:!1,nested:!0,transform:!1}){const l=a.name&&!Array.isArray(a.name)?[a.name]:a.name,h=!l&&a.nested?Array.from(x.value.values()).map(({validate:v})=>v(a).then(()=>{}).catch(z=>{if(!(z instanceof K))throw z;return z})):[];if(l){const v=u.value.filter(F=>!l.some(U=>{var $,C,i;const k=(C=($=S.value)==null?void 0:$[U])==null?void 0:C.pattern;return U===F.name||k&&((i=F.name)==null?void 0:i.match(k))})),z=(await T()).filter(F=>l.some(U=>{var $,C,i;const k=(C=($=S.value)==null?void 0:$[U])==null?void 0:C.pattern;return U===F.name||k&&((i=F.name)==null?void 0:i.match(k))}));u.value=v.concat(z)}else u.value=await T();const I=(await Promise.all(h)).filter(v=>v!==void 0);if(u.value.length+I.length>0){if(a.silent)return!1;throw new K(d,u.value,I)}return a.transform&&Object.assign(e.state,L.value),e.state}const A=_(!1);J(qe,H(A));async function W(a){var h;A.value=e.loadingAuto&&!0;const l=a;try{l.data=await B({nested:!0,transform:e.transform}),await((h=e.onSubmit)==null?void 0:h.call(e,l)),q.clear()}catch(I){if(!(I instanceof K))throw I;const v={...l,errors:I.errors,children:I.children};r("error",v)}finally{A.value=!1}}const N=D(()=>e.disabled||A.value);return J(Ee,D(()=>({disabled:N.value,validateOnInputDelay:e.validateOnInputDelay}))),n({validate:B,errors:u,setErrors(a,l){l?u.value=u.value.filter(h=>h.name!==l).concat(R(a)):u.value=R(a)},async submit(){await W(new Event("submit"))},getErrors(a){return a?u.value.filter(l=>l.name===a):u.value},clear(a){a?u.value=u.value.filter(l=>l.name!==a):u.value=[]},disabled:N,loading:A,dirty:D(()=>!!q.size),dirtyFields:H(q),blurredFields:H(G),touchedFields:H(E)}),(a,l)=>(b(),j(Ne(g(w)?"div":"form"),{id:g(d),class:M(f.value({class:e.class})),onSubmit:he(W,["prevent"])},{default:y(()=>[Q(a.$slots,"default",{errors:u.value})]),_:3},40,["id","class"]))}},ca={key:0,class:"error"},fa={key:1,class:"success"},pa={__name:"AccountPassword",setup(t){const n=ye(),s=_(""),e=_(""),r=_(""),c=_("");async function f(){if(r.value="",c.value="",s.value!==e.value){r.value="Passwords do not match.";return}if(!n.value){r.value="No authenticated user found.";return}try{await De(n.value,s.value),c.value="Password updated successfully.",s.value="",e.value=""}catch(d){r.value=d.message}}return(d,o)=>{const w=_e,x=Me("UFormGroup"),u=ge,S=da,q=be;return b(),j(q,null,{default:y(()=>[o[3]||(o[3]=p("h2",null,"Change Password",-1)),o[4]||(o[4]=p("p",{class:"description"},"Update your account password below.",-1)),m(S,{class:"form",onSubmit:he(f,["prevent"])},{default:y(()=>[m(x,{label:"New Password",name:"new-password"},{default:y(()=>[m(w,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=E=>s.value=E),type:"password",placeholder:"Enter new password",required:""},null,8,["modelValue"])]),_:1}),m(x,{label:"Confirm Password",name:"confirm-password"},{default:y(()=>[m(w,{modelValue:e.value,"onUpdate:modelValue":o[1]||(o[1]=E=>e.value=E),type:"password",placeholder:"Confirm new password",required:""},null,8,["modelValue"])]),_:1}),m(u,{type:"submit",color:"primary",block:""},{default:y(()=>o[2]||(o[2]=[te("Update Password")])),_:1,__:[2]})]),_:1}),r.value?(b(),O("p",ca,ee(r.value),1)):V("",!0),c.value?(b(),O("p",fa,ee(c.value),1)):V("",!0)]),_:1})}}},ga=ve(pa,[["__scopeId","data-v-ed40b76c"]]),ma={class:"dashboard-page-grid"},va={class:"dashboard-grid-section"},ya={class:"dashboard-grid-section"},ha={class:"dashboard-grid-section"},ba={class:"dashboard-grid-section"},_a={class:"dashboard-grid-section"},wa={class:"dashboard-grid-section"},Pa={__name:"account",setup(t){const{label:n,icon:s}=Ge();return(e,r)=>{const c=He,f=be,d=ga,o=Te;return b(),j(o,null,{default:y(()=>[p("div",ma,[p("div",va,[m(f,null,{default:y(()=>[m(c)]),_:1})]),p("div",ya,[m(f,null,{default:y(()=>[m(d)]),_:1})]),p("div",ha,[m(f,null,{default:y(()=>r[0]||(r[0]=[p("h2",null,"Two-Factor Authentication",-1),p("p",null,"Enable or manage two-factor authentication settings.",-1)])),_:1})]),p("div",ba,[m(f,null,{default:y(()=>r[1]||(r[1]=[p("h2",null,"Account Activity",-1),p("p",null,"View recent logins and activity on your account.",-1)])),_:1})]),p("div",_a,[m(f,null,{default:y(()=>r[2]||(r[2]=[p("h2",null,"Connected Devices",-1),p("p",null,"Review and manage devices currently logged into your account.",-1)])),_:1})]),p("div",wa,[m(f,null,{default:y(()=>r[3]||(r[3]=[p("h2",null,"Delete Account",-1),p("p",null," Request permanent deletion of your account and associated data. ",-1)])),_:1})])])]),_:1})}}};export{Pa as default};
