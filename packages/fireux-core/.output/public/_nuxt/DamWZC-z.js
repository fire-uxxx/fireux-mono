import{_ as J}from"./C58LZhNe.js";import{_ as K}from"./DGRTGWqa.js";import{k as G,j as Q,N as W,w as p,o as d,a as o,t as n,c as i,O as _,d as s,b as m,P as q,_ as X,n as Z,l as y,g as F}from"./BVTICooV.js";import{u as h}from"./mNAuW6sO.js";import"./D7KGscGp.js";import"./tFsLFLRg.js";import"./dVouc0k2.js";import"./wSbNHcIL.js";import"./E1WfNmNJ.js";import"./CjmJjjqI.js";import"./CKOQKYhC.js";import"./BCBb_8iq.js";import"./BD8ciVsq.js";import"./BC6Im6_J.js";const x={class:"cell-title"},tt={key:0,class:"product-cell"},ot={key:0,class:"cell-image"},et=["src"],rt={class:"cell-text"},nt={class:"cell-description"},lt={key:0,class:"cell-price"},st={key:0},dt={class:"purchace-buttons"},it={key:1},ut={key:0},at={class:"purchace-buttons"},pt={key:2},mt={key:0},ct={key:3},_t=["innerHTML"],ft={key:1,class:"missing"},gt={class:"purchace-buttons"},yt=G({__name:"Product",props:{product:{},variant:{},mode:{}},setup(v){const l=v;function r(t){return typeof t=="string"&&t.trim()!==""?t:"!"}return console.log("ðŸ” ProductCard Props:",l),(t,e)=>{const u=J,a=K;return d(),Q(a,null,W({default:p(()=>{var c,f,g,k,b,w,P,B,N,C,S,T,$,A,I,U,V,D,H,L,M,O,Y,j,z,E,R;return[t.variant==="cell"?(d(),i("div",tt,[(c=t.product)!=null&&c.main_image?(d(),i("div",ot,[o("img",{src:t.product.main_image,alt:"Product image"},null,8,et)])):_("",!0),o("div",rt,[o("p",nt,n(r((f=t.product)==null?void 0:f.description)),1),(g=t.product)!=null&&g.default_price?(d(),i("p",lt,[s(" â‚¬"+n(t.product.default_price.unit_amount),1),t.product.default_price.interval?(d(),i("span",st,"/"+n(t.product.default_price.interval),1)):_("",!0)])):_("",!0),o("div",dt,[m(u,{disabled:l.mode==="preview",color:"primary"},{default:p(()=>e[0]||(e[0]=[s("Buy Now")])),_:1,__:[0]},8,["disabled"]),m(u,{disabled:l.mode==="preview",variant:"outline"},{default:p(()=>e[1]||(e[1]=[s("Add to Basket")])),_:1,__:[1]},8,["disabled"])])])])):t.variant==="customer"?(d(),i("div",it,[o("p",null,[o("strong",null,n(r((k=t.product)==null?void 0:k.name)),1)]),o("p",null,n(r((b=t.product)==null?void 0:b.description)),1),(w=t.product)!=null&&w.default_price?(d(),i("p",ut," â‚¬"+n(t.product.default_price.unit_amount),1)):_("",!0),o("div",at,[m(u,{disabled:l.mode==="preview",color:"primary"},{default:p(()=>e[2]||(e[2]=[s("Buy Now")])),_:1,__:[2]},8,["disabled"]),m(u,{disabled:l.mode==="preview",variant:"outline"},{default:p(()=>e[3]||(e[3]=[s("Add to Basket")])),_:1,__:[3]},8,["disabled"])])])):t.variant==="info"?(d(),i("div",pt,[o("ul",null,[(P=t.product)!=null&&P.id?(d(),i("li",mt,[e[4]||(e[4]=o("strong",null,"ID:",-1)),s(" "+n(t.product.id),1)])):_("",!0),o("li",null,[e[5]||(e[5]=o("strong",null,"Name:",-1)),s(" "+n(r((B=t.product)==null?void 0:B.name)),1)]),o("li",null,[e[6]||(e[6]=o("strong",null,"Slug:",-1)),s(" "+n(r((N=t.product)==null?void 0:N.slug)),1)]),o("li",null,[e[7]||(e[7]=o("strong",null,"Created:",-1)),s(" "+n(r((C=t.product)==null?void 0:C.created_at)),1)]),o("li",null,[e[8]||(e[8]=o("strong",null,"Updated:",-1)),s(" "+n(r((S=t.product)==null?void 0:S.updated_at)),1)]),o("li",null,[e[9]||(e[9]=o("strong",null,"Tenant:",-1)),s(" "+n(r((T=t.product)==null?void 0:T.appId)),1)]),o("li",null,[e[10]||(e[10]=o("strong",null,"Creator:",-1)),s(" "+n(r(($=t.product)==null?void 0:$.creator_id)),1)]),o("li",null,[e[11]||(e[11]=o("strong",null,"Image Supplied:",-1)),s(" "+n((A=t.product)!=null&&A.main_image?"Yes":"No"),1)]),o("li",null,[e[12]||(e[12]=o("strong",null,"Type:",-1)),s(" "+n(r((I=t.product)==null?void 0:I.product_type)),1)]),o("li",null,[e[13]||(e[13]=o("strong",null,"Stock:",-1)),o("span",{style:q({color:((U=t.product)==null?void 0:U.stock)==null?"red":"inherit"})},n(((V=t.product)==null?void 0:V.stock)??"!"),5)]),o("li",null,[e[14]||(e[14]=o("strong",null,"Track Stock:",-1)),s(" "+n(r((D=t.product)!=null&&D.track_stock?"Yes":"No")),1)]),o("li",null,[e[15]||(e[15]=o("strong",null,"Content:",-1)),s(" "+n(r((H=t.product)==null?void 0:H.content)),1)]),o("li",null,[e[16]||(e[16]=o("strong",null,"Default Price:",-1)),o("span",{style:q({color:((M=(L=t.product)==null?void 0:L.default_price)==null?void 0:M.unit_amount)==null?"red":"inherit"})},n(((Y=(O=t.product)==null?void 0:O.default_price)==null?void 0:Y.unit_amount)??"!"),5)])])])):t.variant==="page"?(d(),i("div",ct,[o("h1",null,n(r((j=t.product)==null?void 0:j.name)),1),o("p",null,n(r((z=t.product)==null?void 0:z.description)),1),(E=t.product)!=null&&E.content?(d(),i("div",{key:0,innerHTML:(R=t.product)==null?void 0:R.content},null,8,_t)):(d(),i("p",ft,"!")),o("div",gt,[m(u,{disabled:l.mode==="preview",color:"primary"},{default:p(()=>e[17]||(e[17]=[s("Buy Now")])),_:1,__:[17]},8,["disabled"]),m(u,{disabled:l.mode==="preview",variant:"outline"},{default:p(()=>e[18]||(e[18]=[s("Add to Basket")])),_:1,__:[18]},8,["disabled"])])])):_("",!0)]}),_:2},[t.variant==="cell"?{name:"header",fn:p(()=>{var c;return[o("h3",x,n(r((c=t.product)==null?void 0:c.name)||"Unnamed Product"),1)]}),key:"0"}:void 0]),1024)}}}),vt=X(yt,[["__scopeId","data-v-1cb05dbc"]]),kt={key:0,class:"page"},bt={key:1},Lt=G({__name:"[slug]",async setup(v){let l,r;const t=Z(),{fetchProductBySlug:e,fetchProductPrices:u}=([l,r]=y(()=>h()),l=await l,r(),l),a=([l,r]=y(()=>e(t.params.slug)),l=await l,r(),l);return a&&a.id&&(a.prices=([l,r]=y(()=>u(a.id)),l=await l,r(),l)),(c,f)=>{const g=vt;return F(a)?(d(),i("div",kt,[m(g,{mode:"fetch",variant:"page",product:F(a)},null,8,["product"])])):(d(),i("div",bt,f[0]||(f[0]=[o("h1",null,"404 â€“ Product not found",-1)])))}}});export{Lt as default};
